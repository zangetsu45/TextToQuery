{"ast":null,"code":"var _jsxFileName = \"/home/mayank/Downloads/ssd/src/components/ChatBox.js\";\nimport React from \"react\";\nimport \"./ChatBox.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst generateCSV = message => {\n  if (!message.results || message.results.length === 0) {\n    alert(\"No data to download!\");\n    return;\n  }\n  const headers = Object.keys(message.results[0]);\n  const rows = message.results.map(row => headers.map(header => `\"${row[header] || \"\"}\"`).join(\",\"));\n  const csvContent = [headers.join(\",\"), ...rows].join(\"\\n\");\n  const blob = new Blob([csvContent], {\n    type: \"text/csv;charset=utf-8;\"\n  });\n  const url = URL.createObjectURL(blob);\n  const link = document.createElement(\"a\");\n  link.href = url;\n  link.setAttribute(\"download\", \"table_data.csv\");\n  document.body.appendChild(link);\n  link.click();\n  document.body.removeChild(link);\n};\nconst ChatBox = ({\n  messages\n}) => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"chat-box\",\n    children: messages.map((message, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `chat-message ${message.sender === \"user\" ? \"user-message\" : \"bot-message\"}`,\n      children: message.isTable ? /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          dangerouslySetInnerHTML: {\n            __html: message.text\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"download-button\",\n          onClick: () => generateCSV(message),\n          children: \"Download\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n        children: message.text\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 13\n      }, this)\n    }, index, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 9\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 5\n  }, this);\n};\n_c = ChatBox;\nexport default ChatBox;\nvar _c;\n$RefreshReg$(_c, \"ChatBox\");","map":{"version":3,"names":["React","jsxDEV","_jsxDEV","generateCSV","message","results","length","alert","headers","Object","keys","rows","map","row","header","join","csvContent","blob","Blob","type","url","URL","createObjectURL","link","document","createElement","href","setAttribute","body","appendChild","click","removeChild","ChatBox","messages","className","children","index","sender","isTable","dangerouslySetInnerHTML","__html","text","fileName","_jsxFileName","lineNumber","columnNumber","onClick","_c","$RefreshReg$"],"sources":["/home/mayank/Downloads/ssd/src/components/ChatBox.js"],"sourcesContent":["import React from \"react\";\nimport \"./ChatBox.css\";\n\nconst generateCSV = (message) => {\n  if (!message.results || message.results.length === 0) {\n    alert(\"No data to download!\");\n    return;\n  }\n  const headers = Object.keys(message.results[0]);\n  const rows = message.results.map((row) =>\n    headers.map((header) => `\"${row[header] || \"\"}\"`).join(\",\")\n  );\n  const csvContent = [headers.join(\",\"), ...rows].join(\"\\n\");\n  const blob = new Blob([csvContent], { type: \"text/csv;charset=utf-8;\" });\n  const url = URL.createObjectURL(blob);\n  const link = document.createElement(\"a\");\n  link.href = url;\n  link.setAttribute(\"download\", \"table_data.csv\");\n  document.body.appendChild(link);\n  link.click();\n  document.body.removeChild(link);\n};\n\nconst ChatBox = ({ messages }) => {\n  return (\n    <div className=\"chat-box\">\n      {messages.map((message, index) => (\n        <div\n          key={index}\n          className={`chat-message ${\n            message.sender === \"user\" ? \"user-message\" : \"bot-message\"\n          }`}\n        >\n          {message.isTable ? (\n            <div>\n              <div\n                dangerouslySetInnerHTML={{ __html: message.text }}\n              ></div>\n              <button\n                className=\"download-button\"\n                onClick={() => generateCSV(message)} \n              >\n                Download\n              </button>\n            </div>\n          ) : (\n            <span>{message.text}</span>\n          )}\n        </div>\n      ))}\n    </div>\n  );\n};\n\nexport default ChatBox;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}